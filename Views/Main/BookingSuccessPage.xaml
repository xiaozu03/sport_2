<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:oculus_sport.ViewModels.Main"
             x:Class="oculus_sport.Views.Main.BookingSuccessPage"
             Title="Booking Confirmed"
             Shell.NavBarIsVisible="False"
             BackgroundColor="{StaticResource Primary}">

    <Grid RowDefinitions="Auto, *">

        <VerticalStackLayout Grid.Row="0" Padding="30,60,30,40" Spacing="15" HorizontalOptions="Center">
            <Border HeightRequest="80" WidthRequest="80" StrokeThickness="0" StrokeShape="RoundRectangle 40" BackgroundColor="White">
                <Label Text="âœ“" FontSize="40" TextColor="{StaticResource Primary}" HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Bold"/>
            </Border>

            <Label Text="Booking Completed!" 
                   TextColor="White" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center"/>

            <Label Text="Your court has been successfully reserved." 
                   TextColor="#E6E6E6" 
                   FontSize="14" 
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"/>
        </VerticalStackLayout>

        <Border Grid.Row="1" 
                StrokeShape="RoundRectangle 30,30,0,0" 
                BackgroundColor="{StaticResource PageBackgroundLight}" 
                StrokeThickness="0"
                Padding="30">

            <Grid RowDefinitions="*, Auto">
                <ScrollView Grid.Row="0">
                    <VerticalStackLayout Spacing="20">

                        <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                            <Label Text="Booking ID" TextColor="{StaticResource Gray500}" FontSize="12" HorizontalOptions="Center"/>
                            <Label Text="{Binding Booking.Id}" TextColor="{StaticResource Black}" FontSize="28" FontAttributes="Bold" HorizontalOptions="Center" CharacterSpacing="2"/>
                        </VerticalStackLayout>

                        <BoxView HeightRequest="1" Color="{StaticResource Gray300}" Margin="0,10"/>

                        <Grid ColumnDefinitions="Auto, *" ColumnSpacing="15">
                            <Border StrokeShape="RoundRectangle 10" HeightRequest="60" WidthRequest="60" Padding="0" StrokeThickness="0">
                                <Image Source="{Binding Booking.FacilityImage}" Aspect="AspectFill"/>
                            </Border>
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                <Label Text="{Binding Booking.FacilityName}" FontSize="18" FontAttributes="Bold" TextColor="{StaticResource Black}"/>
                                <Label Text="{Binding Booking.Location}" TextColor="{StaticResource Gray500}" FontSize="12"/>
                            </VerticalStackLayout>
                        </Grid>

                        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" RowSpacing="15">
                            <VerticalStackLayout Grid.Row="0" Grid.Column="0">
                                <Label Text="Date" TextColor="{StaticResource Gray500}" FontSize="12"/>
                                <Label Text="{Binding Booking.Date, StringFormat='{0:ddd, MMM dd}'}" TextColor="{StaticResource Black}" FontAttributes="Bold" FontSize="16"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Grid.Row="0" Grid.Column="1">
                                <Label Text="Time" TextColor="{StaticResource Gray500}" FontSize="12"/>
                                <Label Text="{Binding Booking.TimeSlot}" TextColor="{StaticResource Black}" FontAttributes="Bold" FontSize="16"/>
                            </VerticalStackLayout>

                            <VerticalStackLayout Grid.Row="1" Grid.ColumnSpan="2">
                                <Label Text="Booked By" TextColor="{StaticResource Gray500}" FontSize="12"/>
                                <Label Text="{Binding Booking.ContactName}" TextColor="{StaticResource Black}" FontAttributes="Bold" FontSize="16"/>
                                <Label Text="{Binding Booking.ContactStudentId}" TextColor="{StaticResource Gray500}" FontSize="14"/>
                            </VerticalStackLayout>
                        </Grid>

                    </VerticalStackLayout>
                </ScrollView>

                <VerticalStackLayout Grid.Row="1" Spacing="15" Margin="0,20,0,0">
                    <Button Text="Done" 
                            Command="{Binding GoHomeCommand}" 
                            BackgroundColor="{StaticResource Primary}" 
                            CornerRadius="25" 
                            HeightRequest="50" 
                            FontAttributes="Bold"/>

                    <Button Text="Share Receipt" 
                            Command="{Binding ShareBookingCommand}"
                            BackgroundColor="Transparent" 
                            TextColor="{StaticResource Gray500}"
                            FontAttributes="Bold"/>
                </VerticalStackLayout>
            </Grid>
        </Border>
    </Grid>
</ContentPage>